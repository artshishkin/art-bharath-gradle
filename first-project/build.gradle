/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.3/samples
 */

println 'During configuration phase Globally - Start'

// task is method project.task()
// firstTask - name
// {} - closure
// gradle create object task and adds it to the object project
task firstTask {
    println 'During configuration phase inside firstTask'

    def abc = 123
    println abc
    doFirst() {
        println 'During execution phase -> doFirst'
        abc = 321
        println abc
    }
    doLast() {
        println 'During execution phase -> doLast'
        println abc
    }
}

task deployToStage {
    doLast() {
        println "Deployed to Stage"
    }
}

task deployToProd {
    doLast() {
        println "Deployed to Prod"
    }
}

task cleanUpFiles {
    doLast() {
        println "Clean Up Files"
    }
}

deployToProd.dependsOn deployToStage
deployToProd.finalizedBy cleanUpFiles

defaultTasks "deployToStage"

println 'During configuration phase Globally - End'

